# ExplORA æµ‹è¯•æŒ‡å—

**ç‰ˆæœ¬**: 1.0
**æ—¥æœŸ**: 2025-11-01
**é€‚ç”¨é˜¶æ®µ**: é˜¶æ®µ1-2ï¼ˆåŸºç¡€æž¶æž„ + AIé›†æˆï¼‰

---

## ðŸŽ¯ å½“å‰å·²å®ŒæˆåŠŸèƒ½

### âœ… é˜¶æ®µ1ï¼šåŸºç¡€æž¶æž„
1. **AttributeManager.gd** - äº”ç»´å±žæ€§ç®¡ç†å™¨
   - ç®¡ç†äº”ç»´å±žæ€§æ•°æ®ï¼ˆCognition, Sociability, Charisma, Vitality, Reflectionï¼‰
   - ç”Ÿæˆè¯¦ç»†çš„å±žæ€§æè¿°æ–‡æœ¬
   - å–å€¼èŒƒå›´ï¼š0-1000
   - é»˜è®¤å€¼ï¼šå…¨éƒ¨500

2. **PromptManager.gd** - æç¤ºè¯ç®¡ç†å™¨
   - ç®¡ç†ç”¨æˆ·è¾“å…¥çš„æç¤ºè¯
   - æ”¯æŒä¸€æ¬¡æ€§å’ŒæŒç»­å½±å“ä¸¤ç§ç±»åž‹
   - å­—æ•°é™åˆ¶ï¼š100å­—
   - æœ‰æ•ˆæœŸï¼š5å°æ—¶

3. **é¡¹ç›®é…ç½®** - autoload é…ç½®
   - ä¸¤ä¸ªæ–°ç®¡ç†å™¨å·²æ·»åŠ åˆ°å…¨å±€å•ä¾‹

### âœ… é˜¶æ®µ2ï¼šAIå†³ç­–å’Œå¯¹è¯é›†æˆ
1. **AIAgent.gd** - AIå†³ç­–ç³»ç»Ÿ
   - äº”ç»´å±žæ€§æè¿°æ³¨å…¥åˆ°å†³ç­– Prompt
   - ç”¨æˆ·æç¤ºè¯æ³¨å…¥åˆ°å†³ç­– Prompt

2. **ConversationManager.gd** - å¯¹è¯ç³»ç»Ÿ
   - äº”ç»´å±žæ€§æè¿°æ³¨å…¥åˆ°å¯¹è¯ Prompt
   - ç”¨æˆ·æç¤ºè¯æ³¨å…¥åˆ°å¯¹è¯ Prompt

---

## ðŸ§ª å¦‚ä½•åœ¨ Godot ä¸­æµ‹è¯•

### æ­¥éª¤1ï¼šæ‰“å¼€é¡¹ç›®

1. æ‰“å¼€ Godot Engine 4.x
2. å¯¼å…¥é¡¹ç›®ï¼šé€‰æ‹© `/home/user/Microverse/project.godot`
3. ç­‰å¾…é¡¹ç›®åŠ è½½å®Œæˆ

### æ­¥éª¤2ï¼šæ£€æŸ¥ autoload é…ç½®

1. ç‚¹å‡»èœå•ï¼š`Project` â†’ `Project Settings`
2. é€‰æ‹© `Autoload` æ ‡ç­¾
3. ç¡®è®¤çœ‹åˆ°ä»¥ä¸‹ä¸¤ä¸ªæ–°å¢žçš„ autoloadï¼š
   - `AttributeManager` â†’ `res://script/attribute/AttributeManager.gd`
   - `PromptManager` â†’ `res://script/prompt/PromptManager.gd`

### æ­¥éª¤3ï¼šè¿è¡Œæ¸¸æˆ

1. ç‚¹å‡» Godot å³ä¸Šè§’çš„ â–¶ï¸ æŒ‰é’®ï¼ˆæˆ–æŒ‰ F5ï¼‰
2. æ¸¸æˆåº”è¯¥æ­£å¸¸å¯åŠ¨ï¼Œè¿›å…¥è§’è‰²é€‰æ‹©ç•Œé¢
3. é€‰æ‹©ä»»ä¸€è§’è‰²è¿›å…¥æ¸¸æˆåœºæ™¯

### æ­¥éª¤4ï¼šæŸ¥çœ‹è°ƒè¯•è¾“å‡º

1. æ¸¸æˆè¿è¡ŒåŽï¼ŒæŸ¥çœ‹ Godot åº•éƒ¨çš„ `Output` é¢æ¿
2. ä½ åº”è¯¥èƒ½çœ‹åˆ°ä»¥ä¸‹åˆå§‹åŒ–ä¿¡æ¯ï¼š
   ```
   [AttributeManager] åˆå§‹åŒ–å®Œæˆ
   [AttributeManager] å½“å‰å±žæ€§å€¼: { cognition:500, sociability:500, ... }
   [PromptManager] åˆå§‹åŒ–å®Œæˆ
   ```

### æ­¥éª¤5ï¼šè§‚å¯Ÿ AI è¡Œä¸º

1. ç­‰å¾…AIè§’è‰²å¼€å§‹è‡ªä¸»å†³ç­–ï¼ˆæ¯60ç§’ä¸€æ¬¡ï¼‰
2. æŸ¥çœ‹ `Output` é¢æ¿ä¸­çš„å†³ç­–æ—¥å¿—
3. ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š
   ```
   [AIAgent] Tom çš„åœºæ™¯æè¿°ï¼š
   ...
   ```

### æ­¥éª¤6ï¼šæµ‹è¯•å¯¹è¯åŠŸèƒ½

1. æŽ§åˆ¶ä½ çš„è§’è‰²ï¼ˆWASDç§»åŠ¨ï¼‰é è¿‘ä¸€ä¸ª AI è§’è‰²
2. æŒ‰ `T` é”®å‘èµ·å¯¹è¯
3. è§‚å¯Ÿ AI çš„å›žå¤
4. æŒ‰ `L` é”®ç»“æŸå¯¹è¯

---

## ðŸ” å¦‚ä½•éªŒè¯åŠŸèƒ½æ˜¯å¦ç”Ÿæ•ˆ

### éªŒè¯1ï¼šäº”ç»´å±žæ€§æ˜¯å¦æ³¨å…¥åˆ° Prompt

**æ–¹æ³•A - æŸ¥çœ‹ä»£ç ï¼ˆç®€å•ï¼‰**:
1. æ‰“å¼€æ–‡ä»¶ï¼š`script/ai/AIAgent.gd`
2. æ‰¾åˆ°ç¬¬ 525-528 è¡Œ
3. ç¡®è®¤çœ‹åˆ°ï¼š
   ```gdscript
   # ====== ExplORA æ–°å¢žï¼šæ³¨å…¥äº”ç»´å±žæ€§æè¿° ======
   prompt += "\n\n=== ä½ çš„äº”ç»´å±žæ€§ç‰¹è´¨ ===\n"
   prompt += AttributeManager.get_all_descriptions()
   prompt += "\n================================\n"
   ```

**æ–¹æ³•B - æ·»åŠ è°ƒè¯•è¾“å‡ºï¼ˆé«˜çº§ï¼‰**:
1. æ‰“å¼€ `script/ai/AIAgent.gd`
2. åœ¨ç¬¬528è¡Œä¹‹åŽæ·»åŠ ï¼š
   ```gdscript
   print("[ExplORA DEBUG] Prompt ä¸­åŒ…å«äº”ç»´å±žæ€§æè¿°:")
   print(AttributeManager.get_all_descriptions())
   ```
3. è¿è¡Œæ¸¸æˆï¼ŒæŸ¥çœ‹ Output é¢æ¿

### éªŒè¯2ï¼šæç¤ºè¯ç®¡ç†å™¨æ˜¯å¦å·¥ä½œ

**æ–¹æ³•A - ä½¿ç”¨ GDScript è°ƒè¯•æŽ§åˆ¶å°**:
1. åœ¨ Godot ç¼–è¾‘å™¨ä¸­ï¼Œæ‰“å¼€ `Script` æ ‡ç­¾
2. åœ¨åº•éƒ¨æ‰¾åˆ° `Debug` â†’ `Interactive GDScript Console`ï¼ˆå¦‚æžœå¯ç”¨ï¼‰
3. è¾“å…¥ä»¥ä¸‹å‘½ä»¤æµ‹è¯•ï¼š
   ```gdscript
   PromptManager.add_prompt("ä»Šå¤©æƒ³è®¤è¯†æ–°æœ‹å‹", PromptManager.PromptType.CONTINUOUS)
   print(PromptManager.get_active_prompts())
   ```

**æ–¹æ³•B - ä¿®æ”¹ AttributeManager åˆå§‹åŒ–ï¼ˆä¸´æ—¶æµ‹è¯•ï¼‰**:
1. æ‰“å¼€ `script/attribute/AttributeManager.gd`
2. åœ¨ `_ready()` å‡½æ•°æœ«å°¾æ·»åŠ ï¼š
   ```gdscript
   # ä¸´æ—¶æµ‹è¯•ï¼šæ·»åŠ ä¸€ä¸ªç¤ºä¾‹æç¤ºè¯
   PromptManager.add_prompt("æˆ‘ä»Šå¤©æƒ³å¤šå­¦ä¹ ", PromptManager.PromptType.CONTINUOUS)
   ```
3. è¿è¡Œæ¸¸æˆï¼ŒæŸ¥çœ‹ Output é¢æ¿æ˜¯å¦æ˜¾ç¤ºï¼š
   ```
   [PromptManager] æ–°å¢žæç¤ºè¯: "æˆ‘ä»Šå¤©æƒ³å¤šå­¦ä¹ " (ç±»åž‹: æŒç»­å½±å“, æœ‰æ•ˆæœŸ: 5å°æ—¶)
   ```

### éªŒè¯3ï¼šå±žæ€§å€¼ä¿®æ”¹æ˜¯å¦å½±å“ AI è¡Œä¸º

**æ–¹æ³• - ä¸´æ—¶ä¿®æ”¹é»˜è®¤å±žæ€§å€¼**:
1. æ‰“å¼€ `script/attribute/AttributeManager.gd`
2. ä¿®æ”¹ç¬¬ 10-16 è¡Œçš„é»˜è®¤å€¼ï¼š
   ```gdscript
   # æµ‹è¯•ï¼šè®¾ç½®æžç«¯å€¼
   var current_attributes = {
       "cognition": 950,      # æžé«˜è®¤çŸ¥
       "sociability": 100,    # æžä½Žç¤¾äº¤ï¼ˆæžåº¦å†…å‘ï¼‰
       "charisma": 200,       # ä½Žé­…åŠ›
       "vitality": 800,       # é«˜æ´»åŠ›
       "reflection": 600      # è¾ƒé«˜è‡ªçœ
   }
   ```
3. è¿è¡Œæ¸¸æˆ
4. è§‚å¯Ÿ AI çš„è¡Œä¸ºå’Œå¯¹è¯ï¼Œçœ‹æ˜¯å¦ç¬¦åˆï¼š
   - **é«˜è®¤çŸ¥**ï¼šå¯¹è¯æ›´æœ‰æ·±åº¦ï¼Œå€¾å‘åŽ»å­¦ä¹ åŒº
   - **æžä½Žç¤¾äº¤**ï¼šå¾ˆå°‘ä¸»åŠ¨å‘èµ·å¯¹è¯ï¼Œé¿å¼€äººç¾¤
   - **ä½Žé­…åŠ›**ï¼šå¯¹è¯ç¼ºä¹è‡ªä¿¡
   - **é«˜æ´»åŠ›**ï¼šè¯´è¯å……æ»¡èƒ½é‡
   - **è¾ƒé«˜è‡ªçœ**ï¼šå¯¹è¯æœ‰æ·±åº¦æ€è€ƒ

---

## ðŸ“Š é¢„æœŸç»“æžœ

### æ­£å¸¸æƒ…å†µ

å¦‚æžœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥ï¼š
1. âœ… æ¸¸æˆèƒ½å¤Ÿæ­£å¸¸å¯åŠ¨
2. âœ… çœ‹åˆ° AttributeManager å’Œ PromptManager çš„åˆå§‹åŒ–ä¿¡æ¯
3. âœ… AI è§’è‰²èƒ½å¤Ÿæ­£å¸¸å†³ç­–å’Œå¯¹è¯
4. âœ… æ²¡æœ‰ä»»ä½•æŠ¥é”™ä¿¡æ¯

### å¯èƒ½çš„é—®é¢˜

#### é—®é¢˜1ï¼šæ¸¸æˆæ— æ³•å¯åŠ¨
**çŽ°è±¡**ï¼šç‚¹å‡»è¿è¡ŒåŽï¼Œæ¸¸æˆå´©æºƒæˆ–æ— æ³•å¯åŠ¨
**åŽŸå› **ï¼šGDScript è¯­æ³•é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æŸ¥çœ‹ Output é¢æ¿çš„é”™è¯¯ä¿¡æ¯
2. æ ¹æ®é”™è¯¯ä¿¡æ¯ä¿®å¤ä»£ç 
3. å¸¸è§é”™è¯¯ï¼šç¼©è¿›é”™è¯¯ã€ç¼ºå°‘å†’å·ç­‰

#### é—®é¢˜2ï¼šAttributeManager åˆå§‹åŒ–å¤±è´¥
**çŽ°è±¡**ï¼šOutput ä¸­æ²¡æœ‰çœ‹åˆ° `[AttributeManager] åˆå§‹åŒ–å®Œæˆ`
**åŽŸå› **ï¼šautoload é…ç½®é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `project.godot` ä¸­çš„ autoload é…ç½®
2. ç¡®ä¿è·¯å¾„æ­£ç¡®ï¼š`res://script/attribute/AttributeManager.gd`

#### é—®é¢˜3ï¼šAI è¡Œä¸ºæ²¡æœ‰å˜åŒ–
**çŽ°è±¡**ï¼šä¿®æ”¹äº†å±žæ€§å€¼ï¼Œä½† AI è¡Œä¸ºæ²¡æœ‰æ˜Žæ˜¾å˜åŒ–
**åŽŸå› **ï¼š
1. LLM API å¯èƒ½æ²¡æœ‰é…ç½®ï¼ˆæœªè¿žæŽ¥ï¼‰
2. Prompt æ³¨å…¥å¯èƒ½æ²¡æœ‰ç”Ÿæ•ˆ
3. éœ€è¦æ›´æžç«¯çš„å±žæ€§å€¼å·®å¼‚æ‰èƒ½è§‚å¯Ÿåˆ°æ•ˆæžœ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ Settingsï¼ˆEsc é”®ï¼‰ä¸­çš„ LLM API é…ç½®
2. æ·»åŠ è°ƒè¯•è¾“å‡ºï¼Œç¡®è®¤ Prompt å†…å®¹
3. å°è¯•è®¾ç½®æ›´æžç«¯çš„å±žæ€§å€¼ï¼ˆå¦‚ 100 vs 900ï¼‰

---

## ðŸŽ® å½“å‰é™åˆ¶

### æš‚æ—¶æ— æ³•æµ‹è¯•çš„åŠŸèƒ½
ç”±äºŽæˆ‘ä»¬è¿˜æ²¡æœ‰åˆ›å»ºUIï¼Œä»¥ä¸‹åŠŸèƒ½æš‚æ—¶æ— æ³•åœ¨æ¸¸æˆä¸­ç›´è§‚æµ‹è¯•ï¼š

âŒ **å®žæ—¶è°ƒæ•´å±žæ€§å€¼**
â†’ éœ€è¦ç­‰å¾…é˜¶æ®µ3ï¼šå±žæ€§è°ƒè¯•UI

âŒ **è¾“å…¥è‡ªå®šä¹‰æç¤ºè¯**
â†’ éœ€è¦ç­‰å¾…é˜¶æ®µ4ï¼šæç¤ºè¯è¾“å…¥UI

âŒ **æŸ¥çœ‹å½“å‰å±žæ€§å’Œæç¤ºè¯**
â†’ éœ€è¦ç­‰å¾…é˜¶æ®µ3-4çš„UI

### ä¸´æ—¶æ›¿ä»£æ–¹æ¡ˆ

å¦‚æžœæƒ³æµ‹è¯•ä¸åŒå±žæ€§å€¼çš„æ•ˆæžœï¼Œå¯ä»¥ï¼š
1. ç›´æŽ¥ä¿®æ”¹ `AttributeManager.gd` çš„é»˜è®¤å€¼
2. é‡æ–°è¿è¡Œæ¸¸æˆ
3. è§‚å¯ŸAIè¡Œä¸ºå˜åŒ–

---

## ðŸ“ ä¸‹ä¸€æ­¥è®¡åˆ’

### é˜¶æ®µ3ï¼šåˆ›å»ºå±žæ€§è°ƒè¯•UIï¼ˆä¸‹ä¸€æ­¥å¼€å‘ï¼‰
æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¯è§†åŒ–ç•Œé¢ï¼Œè®©æ‚¨èƒ½å¤Ÿï¼š
- å®žæ—¶æŸ¥çœ‹äº”ç»´å±žæ€§å€¼
- ä½¿ç”¨æ»‘å—è°ƒæ•´å±žæ€§å€¼
- ç«‹å³è§‚å¯ŸAIè¡Œä¸ºå˜åŒ–
- å¿«æ·é”®ï¼š`F1` æ‰“å¼€/å…³é—­è°ƒè¯•é¢æ¿

### é˜¶æ®µ4ï¼šåˆ›å»ºæç¤ºè¯è¾“å…¥UI
æˆ‘ä»¬å°†åˆ›å»ºæç¤ºè¯è¾“å…¥ç•Œé¢ï¼Œè®©æ‚¨èƒ½å¤Ÿï¼š
- è¾“å…¥è‡ªå®šä¹‰æç¤ºè¯ï¼ˆâ‰¤100å­—ï¼‰
- é€‰æ‹©æç¤ºè¯ç±»åž‹ï¼ˆä¸€æ¬¡æ€§/æŒç»­å½±å“ï¼‰
- æŸ¥çœ‹å½“å‰æ´»è·ƒçš„æç¤ºè¯
- æŸ¥çœ‹æç¤ºè¯å‰©ä½™æœ‰æ•ˆæ—¶é—´

---

## â“ å¸¸è§é—®é¢˜ FAQ

### Q1: æˆ‘èƒ½çœ‹åˆ°å±žæ€§å€¼è¢«æ³¨å…¥åˆ° Prompt äº†å—ï¼Ÿ
**A**: ç›®å‰ä¸èƒ½ç›´æŽ¥åœ¨æ¸¸æˆä¸­çœ‹åˆ°å®Œæ•´çš„ Promptã€‚å»ºè®®æ·»åŠ è°ƒè¯•è¾“å‡ºï¼š
```gdscript
# åœ¨ AIAgent.gd çš„ make_decision() å‡½æ•°ä¸­æ·»åŠ 
print("[DEBUG] å®Œæ•´ Prompt:\n", prompt)
```

### Q2: äº”ç»´å±žæ€§çš„æè¿°å¤ªé•¿ï¼Œä¼šä¸ä¼šå½±å“ LLM æ€§èƒ½ï¼Ÿ
**A**: æ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦ä¼˜åŒ–çš„ç‚¹ã€‚åŽç»­æˆ‘ä»¬å¯èƒ½ä¼šï¼š
- æä¾›ç®€åŒ–ç‰ˆæè¿°é€‰é¡¹
- åªæ³¨å…¥å…³é”®å±žæ€§ï¼ˆ>700 æˆ– <300 çš„æžç«¯å€¼ï¼‰
- ä½¿ç”¨å±žæ€§å€¼ç›´æŽ¥å½±å“å†³ç­–æƒé‡ï¼Œè€Œéžå…¨é  Prompt

### Q3: ä¸ºä»€ä¹ˆ AI è¡Œä¸ºå˜åŒ–ä¸æ˜Žæ˜¾ï¼Ÿ
**A**: å¯èƒ½çš„åŽŸå› ï¼š
1. å±žæ€§å€¼å·®å¼‚ä¸å¤Ÿå¤§ï¼ˆå»ºè®®æµ‹è¯• 100 vs 900ï¼‰
2. LLM API æœªé…ç½®æˆ–ä½¿ç”¨çš„æ˜¯ç®€å•æ¨¡åž‹
3. åŸºç¡€äººè®¾ï¼ˆCharacterPersonalityï¼‰çš„å½±å“æ›´å¼º

### Q4: æç¤ºè¯ä¼šåœ¨å“ªé‡Œç”Ÿæ•ˆï¼Ÿ
**A**: æç¤ºè¯ä¼šåŒæ—¶æ³¨å…¥åˆ°ï¼š
- AI å†³ç­– Promptï¼ˆAIAgent.gdï¼‰
- AI å¯¹è¯ Promptï¼ˆConversationManager.gdï¼‰

### Q5: å¦‚ä½•ç¡®è®¤æˆ‘çš„ä»£ç ä¿®æ”¹æˆåŠŸäº†ï¼Ÿ
**A**: æœ€ç®€å•çš„æ–¹æ³•ï¼š
1. è¿è¡Œæ¸¸æˆ
2. æŸ¥çœ‹ Output é¢æ¿
3. ç¡®è®¤æ²¡æœ‰æŠ¥é”™
4. çœ‹åˆ°ä¸¤ä¸ªç®¡ç†å™¨çš„åˆå§‹åŒ–ä¿¡æ¯

---

## ðŸš€ å‡†å¤‡å¥½æµ‹è¯•äº†å—ï¼Ÿ

1. ç¡®ä¿ Godot Engine å·²å®‰è£…ï¼ˆç‰ˆæœ¬ 4.xï¼‰
2. æ‰“å¼€é¡¹ç›®å¹¶è¿è¡Œ
3. æŸ¥çœ‹ Output é¢æ¿çš„è°ƒè¯•ä¿¡æ¯
4. å¦‚æœ‰é—®é¢˜ï¼Œå‚è€ƒä¸Šé¢çš„æ•…éšœæŽ’é™¤æŒ‡å—

ç¥æµ‹è¯•é¡ºåˆ©ï¼ ðŸŽ‰

---

**æœ€åŽæ›´æ–°**: 2025-11-01
